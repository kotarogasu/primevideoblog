%head 
  %script{:defer => "defer", :src => "http://code.jquery.com/jquery-3.3.1.min.js"}
  %body
    .contents
      = form_with(model: @product, local: true) do |f|
        .form-title
          %h1 投稿内容を入力してください
        .form-group.col-sm-4.col-md-offset-2
          = f.label :title, class:"label-name"
          = f.text_field :title, class: "form-control", placeholder: "Name"
        .form-group.col-sm-5
          #category-wraps
            = f.label :"ジャンルを選んでください", class:"label-name"
            .select-wrap
              = f.collection_select :category_id, Category.roots, :id, :name, {prompt: '---'}, class: "select-default", id: "category-select" 
            .select-wrap#child-wrap
              = f.select :category_id, {}, {}, class: "select-default", id: "child-select" do
                - if @product.category.present?
                  %option{value: "#{item.category.parent.id}", class: "child-option"}
                    =item.category.parent.name
        .form-group.col-sm-4.col-md-offset-2
          = f.label :作品URL, class:"label-name"
          = f.text_field :link, class: "form-control", placeholder: "URLを貼ってください"
        .form-group.col-sm-3
          = f.label :作品画像, class:"label-name"
          = f.text_field :image, class: "form-control", placeholder: "画像のパスを貼ってください"
        .form-group.col-sm-4.col-md-offset-2
          = f.label :レビュー, class:"label-name"
          = f.text_area :text, class: "form-control", placeholder: "レビューを記入してください", rows: "12"
        .form-group.col-sm-4
          .label-name
            タグ（タグ間は『,』で区切ってください。４つまで入力可)
        .form-group.col-sm-5
          .tag-box
            = f.text_field :tag_list, value: @product.tag_list.join(','), "data-role" => "tagsinput",  class: "form-control "
        .form-group.col-sm-4.col-md-offset-1
          = f.submit "SEND", class:"sdn-btn"

